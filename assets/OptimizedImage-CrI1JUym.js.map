{"version":3,"file":"OptimizedImage-CrI1JUym.js","sources":["../../src/components/ui/OptimizedImage.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface OptimizedImageProps extends React.ImgHTMLAttributes<HTMLImageElement> {\r\n  src: string;\r\n  alt: string;  // Now required\r\n  className?: string;\r\n  loading?: 'lazy' | 'eager';\r\n}\r\n\r\nconst OptimizedImage: React.FC<OptimizedImageProps> = ({\r\n  src,\r\n  alt,\r\n  className = '',\r\n  ...props\r\n}) => {  const [loaded, setLoaded] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  \r\n  // Ensure alt text is descriptive\r\n  const enhancedAlt = alt || 'Image'; // Fallback if alt is empty\r\n  \r\n  // Default to lazy loading unless specified\r\n  const loadingStrategy = props.loading || 'lazy';\r\n\r\n  useEffect(() => {\r\n    setLoaded(false);\r\n    setError(false);\r\n  }, [src]);\r\n\r\n  const handleLoad = () => {\r\n    setLoaded(true);\r\n  };\r\n\r\n  const handleError = () => {\r\n    setError(true);\r\n  };\r\n\r\n  // Create a blurred placeholder version\r\n  const placeholder = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=';\r\n\r\n  return (\r\n    <div className={`relative overflow-hidden ${className}`}>\r\n      {!loaded && !error && (\r\n        <div className=\"absolute inset-0 bg-gray-200 dark:bg-gray-700 animate-pulse\" />\r\n      )}\r\n      \r\n      <img\r\n        src={error ? placeholder : src}        alt={enhancedAlt}\r\n        className={`transition-opacity duration-300 ${\r\n          loaded ? 'opacity-100' : 'opacity-0'\r\n        }`}\r\n        onLoad={handleLoad}\r\n        onError={handleError}\r\n        loading={loadingStrategy}\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OptimizedImage;\r\n"],"names":["OptimizedImage","src","alt","className","props","loaded","setLoaded","useState","error","setError","enhancedAlt","loadingStrategy","useEffect","handleLoad","handleError","jsxs","jsx"],"mappings":"8EAUA,MAAMA,EAAgD,CAAC,CACrD,IAAAC,EACA,IAAAC,EACA,UAAAC,EAAY,GACZ,GAAGC,CACL,IAAM,CAAG,KAAM,CAACC,EAAQC,CAAS,EAAIC,WAAS,EAAK,EAC3C,CAACC,EAAOC,CAAQ,EAAIF,WAAS,EAAK,EAGlCG,EAAcR,GAAO,QAGrBS,EAAkBP,EAAM,SAAW,OAEzCQ,EAAAA,UAAU,IAAM,CACdN,EAAU,EAAK,EACfG,EAAS,EAAK,CAAA,EACb,CAACR,CAAG,CAAC,EAER,MAAMY,EAAa,IAAM,CACvBP,EAAU,EAAI,CAAA,EAGVQ,EAAc,IAAM,CACxBL,EAAS,EAAI,CAAA,EAMf,OACGM,EAAA,KAAA,MAAA,CAAI,UAAW,4BAA4BZ,CAAS,GAClD,SAAA,CAAA,CAACE,GAAU,CAACG,GACVQ,EAAAA,IAAA,MAAA,CAAI,UAAU,8DAA8D,EAG/EA,EAAA,IAAC,MAAA,CACC,IAAKR,EATS,qHASaP,EAAY,IAAKS,EAC5C,UAAW,mCACTL,EAAS,cAAgB,WAC3B,GACA,OAAQQ,EACR,QAASC,EACT,QAASH,EACR,GAAGP,CAAA,CACN,CACF,CAAA,CAAA,CAEJ"}